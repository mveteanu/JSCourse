<script>

var s = "This is a secred message!";
var s2 = encrypt(s, 10);
var s3 = decrypt(s2, 10);
console.log(s, s2, s3);


function encrypt(s, k)
{
    var s2 = "";
    
    for(var i = 0; i < s.length; i++)
    {
        var code = s.charCodeAt(i);
        var d = 0;

        if ( code >= 65 && code <= 90)
            d = 65;

        if ( code >= 97 && code <= 122 )
            d = 97;  

        if ( d != 0 )
        {
            code -= d;
            code = (code + k) % 26;
            code += d;
        }

        s2 += String.fromCharCode(code); 
    }

    return s2;
}

function decrypt(s, k)
{
    var s2 = "";
    
    for(var i = 0; i < s.length; i++)
    {
        var code = s.charCodeAt(i);
        var d = 0;

        if ( code >= 65 && code <= 90)
            d = 65;

        if ( code >= 97 && code <= 122 )
            d = 97;  
        
        if ( d != 0 )
        {
            code -= d;
            code = (code + 26 - k) % 26;
            code += d;
        }

        s2 += String.fromCharCode(code); 
    }

    return s2;
}


</script>
